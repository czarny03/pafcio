---
layout: default
---
<style>
  img {
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;
    border: none;
  }
  
  .transform {                                 
    transition: opacity 2000ms linear;
    -webkit-transition: opacity 2000ms linear;
  }
  
  .verticalTranslate {  
    transition: 1000ms ease-in-out;
    -webkit-transition: 1000ms ease-in-out;
    transform: translate(0,-1000px);
    -webkit-transform: translate(0,-1000px);
  }
  
  .verticalTranslateBack {  
    transition: 1000ms ease-in-out;
    -webkit-transition: 1000ms ease-in-out;
    transform: translate(0,0px);
    -webkit-transform: translate(0,0px);
  }
</style>
  
<p>
Cieszę się, że wreszcie udało Ci się dotrzeć do miejsca kolejnej próby. Dalej powinno być już tylko z górki.
</p>

<div style="width: 100%; height:80px; position: relative">

  <div id="buttony" class="transform" style="width: 100%; height:100%; position: relative; top: 0; z-index: 2;">
    <p>
      A więc czy chciałbyś już dostać swój prezent?
    </p>
    <div style="
      /* We first create a flex layout context */
      display: flex;

      /* Then we define the flow direction 
         and if we allow the items to wrap 
       * Remember this is the same as:
       * flex-direction: row;
       * flex-wrap: wrap;
       */
      flex-flow: row wrap;

      /* Then we define how is distributed the remaining space */
      justify-content: space-around;">

      <div id="tak_btn_wrapper" style="width: 50%; height: 100%;
      display: flex;
      justify-content: center;           
      align-items: center;">
        <button id="tak_btn" style="height: 30px;" type="button">TAK!!!</button>
      </div>

      <div style="width: 50%; height: 100%;
      display: flex;
      justify-content: center;            
      align-items: center;">
        <button id="nie_btn" style="height: 30px;" type="button">Jestem jeszcze za słaby...</button>
      </div>
    </div>

  </div>

  <div id="balls" class="transform" style="width: 100%; height:100%; position: relative; top: -80px; z-index: 1; opacity: 0;
    /* We first create a flex layout context */
    display: flex;

    /* Then we define the flow direction 
       and if we allow the items to wrap 
     * Remember this is the same as:
     * flex-direction: row;
     * flex-wrap: wrap;
     */
    flex-flow: row wrap;

    /* Then we define how is distributed the remaining space */
    justify-content: space-around;            
    align-items: center;">

    <img id="ball1" src="circle.png" position: relative; height="50" width="50" />
    <img id="ball2" src="circle.png" position: relative; height="50" width="50" />
    <img id="ball3" src="circle.png" position: relative; height="50" width="50" />
    <img id="ball4" src="circle.png" position: relative; height="50" width="50" />
    <img id="ball5" src="circle.png" position: relative; height="50" width="50" />
    <img id="ball6" src="circle.png" position: relative; height="50" width="50" />
    <img id="ball7" src="circle.png" position: relative; height="50" width="50" />

  </div>
  
</div>

<div id="zagadki" style="display:none;">
<p>
Ojej... szkoda.... &#128532; 
</p>
<p style="font-size=30px; font-weight: bold;">
 Oczywiście, że jesteś, bo nie przeszedłeś jeszcze MOJEJ PRÓBY AHAHAHAHHAHAHAHAHAHAAAHAHAHH!!! &#128520; &#128520; &#128520;
</p>
<p>
Zdałeś test cierpliwości, teraz czeka Cię test sprytu. Prawdziwy wojownik bowiem musi być sprytny!
Jesteś prawdziwym wojownikiem czy jakąś pipką?... No właśnie.
</p>
<p>
Twoim zadaniem jest odnaleźć 7 smoczych kul, które, jak wiadomo, rozsiane są po całym świecie.
Kiedy już je uzbierasz będziesz mógł przyzwać Shenrona i wtedy kto wie, dlaczego by nie, może spełni się Twoje jedno życzenie? &#129321;
</p>
<p>
Pierwsze hasło powinieneś już znać - wpisz je w polu poniżej. Gdy poznasz kolejne hasła, również wpisuj je w tym polu.
</p>

<div style="width: 70%; display: flex;
  flex-flow: row wrap;
  justify-content: space-around;">
  <input id="input" />
  <button id="send_btn" >Wyślij</button>
</div>

  <div id="tresc">
    
  </div>
  
</div>

<script>
  function getCookie(cname) {
    var name = cname + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(';');
    for (var i = 0; i <ca.length; i++) {
      var c = ca[i];
      while (c.charAt(0) == ' ') {
        c = c.substring(1);
      }
      if (c.indexOf(name) == 0) {
        return c.substring(name.length, c.length);
      }
    }
    return "";
  }
  
  function checkCookie(number) {
    var balls = getCookie('pafcio_balls');
    if (balls != "") {
      var ballsArray = balls.split(',');
      for (var i = 0; i < ballsArray.length; i++) {
        if (ballsArray[i] == number)
          return true;
      }
    }
    return false;
  }
  
  function returnBall(ball, k) {
    ball.src = 'Ball ' + k + ' Stars.png';
  }
  
  function transitionBall(ball) {
    ball.classList.remove('verticalTranslate');
    ball.classList.add('verticalTranslateBack');
    setTimeout(function() {
      ball.classList.remove('verticalTranslateBack');
    }, 1000);
  }
  
  function showBall(number) {
    if (number >= 1 && number <= 7) {
      var balls = getCookie('pafcio_balls');
      if (balls != "") {
        var ballsArray = balls.split(',');
        for (var i = 0; i < ballsArray.length; i++) {
          var ball = document.querySelector('#ball' + ballsArray[i]);
          if (ball && ballsArray[i] == number) {
            ball.classList.add('verticalTranslate');
            setTimeout(returnBall.bind(null, ball, ballsArray[i]), 500);
            setTimeout(transitionBall.bind(null, ball), 1000);
          }
        }
      }
    }
  }
  
  function showBalls() {
    var balls = getCookie('pafcio_balls');
    if (balls != "") {
      var ballsArray = balls.split(',');
      for (var i = 0; i < ballsArray.length; i++) {
        if (ballsArray[i] >= 1 && ballsArray[i] <= 7) {
          var ball = document.querySelector('#ball' + ballsArray[i]);
          if (ball) {
            ball.classList.add('verticalTranslate');
            setTimeout(returnBall.bind(null, ball, ballsArray[i]), 500);
            setTimeout(transitionBall.bind(null, ball), 1000);
          }
        }
      }
    }
  }
  
  if (document.readyState !== 'loading') {
    showBalls();
  } else {
    document.addEventListener('DOMContentLoaded', showBalls);
  }
  
  var tak_btn_wrapper = document.querySelector('#tak_btn_wrapper');
  var tak_btn = document.querySelector('#tak_btn');
  var nie_btn = document.querySelector('#nie_btn');
  var zagadki_div = document.querySelector('#zagadki');
  var buttony = document.querySelector('#buttony');
  var balls = document.querySelector('#balls');
  var send_btn = document.querySelector('#send_btn');
  var currentRand = -1;
  
  tak_btn_wrapper.addEventListener('mouseover', function() {
      // mouse is hovering over this element
    var rand = Math.random() * 2 * Math.PI;
    tak_btn.style.position = 'relative';
    tak_btn.style.left = Math.sin(rand) * 200 + 'px';
    tak_btn.style.top = Math.cos(rand) * 200 + 'px';
  });

  tak_btn_wrapper.addEventListener('mouseout', function() {
      // mouse was hovering over this element, but no longer is
    tak_btn.style.position = 'inherit';
  });
  
  nie_btn.addEventListener('click', function() {
    zagadki_div.style.display = 'block';
    //buttony.style.transition = 'opacity 1000ms';
    buttony.style.opacity = '0';
    balls.style.opacity = '1';
  });
  
  var tresc = document.querySelector('#tresc');
  var input = document.querySelector('#input');
  
  function addBallCookie(number) {
      var balls = getCookie('pafcio_balls');
      if (balls != "") {
        var found = checkCookie(number);
        if (!found)
          document.cookie = "pafcio_balls=" + balls + ',' + number;
      }
      else {
        document.cookie = "pafcio_balls=" + number;
      }
  }
  
  send_btn.addEventListener('click', function() {
    if (input.value.toLowerCase() == 'mąci') {
      addBallCookie(5);
      showBall(5);
      
      tresc.innerHTML = `<p style="font-weight: bold;">
      Gratulacje! Odnalazłeś 5-gwiazdkową smoczą kulę!
      </p>
      <p>
      Hmmm... powinieneś wiedzieć gdzie jest kolejna... Zaraz, czy nie mówiłem Ci już wcześniej gdzie szukać??
      </p>`;
    }
    else if (checkCookie(5) && input.value.toLowerCase() == 'trzy') {
      addBallCookie(3);
      showBall(3);
      
      tresc.innerHTML = `<p style="font-weight: bold;">
      Gratulacje! Odnalazłeś 3-gwiazdkową smoczą kulę!
      </p>
      <p>Twoje następne wyzwanie kryje się pod tym 
      <a target="_blank" href='https://www.jigsawplanet.com/?rc=play&pid=231c904b7c79'>linkiem</a>.
        Postaraj się rozwiązać je jak najszybciej i teleportuj swojemu mistrzowi (czyli wyślij mi na fb) screen z rozwiązaniem.
        Screen musi uwzględniać Twój czas - sprawdzimy czy byłeś szybszy od swojego mistrza! &#129299;. Potem dowiesz się co robić dalej!
      </p>`;
    }
    else if (checkCookie(3) && input.value.toLowerCase() == '23') {
      addBallCookie(6);
      showBall(6);
      
      tresc.innerHTML = `<p style="font-weight: bold;">
      Gratulacje! Odnalazłeś 6-gwiazdkową smoczą kulę!
      </p>
      <p>
      Coś chyba za dobrze Ci idzie.... Pora podnieść nieco poprzeczkę. Rozwiąż zagadkę z poniższego 
      <a target="_blank" href='https://www.griddlers.net/pl_PL/nonogram/-/g/i01?p_p_lifecycle=2&p_p_resource_id=griddlerHtml&p_p_cacheability=cacheLevelPage&_gpuzzles_WAR_puzzles_touchMode=false&_gpuzzles_WAR_puzzles_id=146672&_gpuzzles_WAR_puzzles_id=146672&_gpuzzles_WAR_puzzles_view=detail'>linku</a>.
      Rozwiązaniem zagadki jest obrazek - przedstawia postać, której prawdziwe imię jest kolejnym hasłem.
      </p>
      <p>
        Oczywiście na dowód rozwiązanej zagadki prześlij screen!
      </p>
      <p>
        Jeśli potrzebujesz, tu są <a target="_blank" href='https://www.griddlers.net/pl/pages/g_rules'>zasady</a>.
      </p>`;
    }
    else if (checkCookie(6) && input.value.toLowerCase() == 'lapis') {
      addBallCookie(1);
      showBall(1);
      
      tresc.innerHTML = `<p style="font-weight: bold;">
      Gratulacje! Odnalazłeś 1-gwiazdkową smoczą kulę!
      </p>
      <p>
        A więc stać Cię na więcej niż myślałem... Pozostaje pytanie... jak poradzisz sobie w starciu z prawdziwym niebezpieczeństwem?
      </p>
      <p>
        Aby odnaleźć następną smoczą kulę musisz pokonać... Kikimorę!!!
        Kikimora to straszny potwór, ale nie bój się mój mały bączku.
        To w końcu nie jest sprawdzian siły, ale sprytu prawda?
      </p>
      <p>
        Otóż Kikimorę można pokonać sprytem...

TODO


      </p>`;
    }
    else if (checkCookie(1) && input.value.toLowerCase() == 'nppkpdcpbm') {
      addBallCookie(0);
      
      tresc.innerHTML = `<p style="font-weight: bold;">
      Hmm... coś jest nie tak... to chyba nie to hasło! &#128552; Spróbujmy inaczej...
      </p>
      <p>
        TODO koperta dla taty
      </p>`;
    }
    else if (checkCookie(0) && input.value.toLowerCase() == 'narzeczona') {
      addBallCookie(2);
      showBall(2);
      
      //TODO wykreślanka
    }
    else if (checkCookie(2) && input.value.toUpperCase() == 'WMYNMDTVMQXBTXDWWLGLYYGRBJZSYP') {
      addBallCookie(7);
      showBall(7);
      
      //TODO ostateczne starcie
    }
    else if (checkCookie(7) && input.value.toUpperCase() == 'mistrzostwo wrzechświata') {
      addBallCookie(4);
      showBall(4);
      
      //TODO gratulacje i co dalej
    }
    else {
      var rand = Math.round(Math.random() * 100) % 31;
      while (rand == currentRand) 
         rand = Math.round(Math.random() * 100) % 31;
      currentRand = rand;
      tresc.innerHTML = `<div style="margin-top: 20px;
      display: flex;
      justify-content: center;           
      align-items: center;">
        <img src='wrong` + currentRand + `.gif'/>
      </div>`;
    }
  });
  
</script>
